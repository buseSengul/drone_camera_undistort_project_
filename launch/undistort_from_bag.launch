<launch>

  <arg name="input_camera_name" default="/cam0" />
  <arg name="scale" default="1.0" />
  <arg name="calib_path" default="$(find image_undistort)/config/arducam_april_tag_640_480-camchain.yaml"/>

  <!-- ROS parametresini cam0 altında yükle -->
<rosparam ns="cam0" file="$(arg calib_path)" command="load" />


  <!-- Delay ile başlat -->
  <!-- <node name="delay" pkg="rosbash" type="sleep" args="1" /> -->

  <node name="image_undistort_node" pkg="image_undistort" type="image_undistort_node" output="screen">
    <param name="input_camera_namespace" value="/cam0" />
    <param name="input_camera_info_from_ros_params" value="true" />
    <param name="output_camera_info_source" value="auto_generated" />
    <param name="scale" value="$(arg scale)" />
    <param name="process_image" value="true" />
    <param name="undistort_image" value="true" />
    <remap from="input/image" to="/usb_cam/image_raw" />
  </node>

</launch>